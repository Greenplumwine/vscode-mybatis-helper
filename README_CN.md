![mybatis](static/icon/mybatis-helper-icon.png)

# MyBatis Helper
ä¸­æ–‡æ–‡æ¡£ | [English Documentation](README.md)

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ VSCode æ’ä»¶ï¼Œä¸º MyBatis å¼€å‘è€…æä¾›å…¨æ–¹ä½çš„è¾…åŠ©åŠŸèƒ½ï¼Œå¤§å¹…æå‡å¼€å‘æ•ˆç‡ã€‚

## é¡¹ç›®æ¦‚è¿°

MyBatis Helper æ˜¯ä¸€æ¬¾ä¸“ä¸º MyBatis å¼€å‘è€…è®¾è®¡çš„ VSCode æ’ä»¶ï¼Œæ—¨åœ¨æå‡ MyBatis é¡¹ç›®çš„å¼€å‘æ•ˆç‡ã€‚è¯¥æ’ä»¶é€šè¿‡æä¾›æ§åˆ¶å°æ—¥å¿—æ‹¦æˆªã€SQL è½¬æ¢ä»¥åŠæ–‡ä»¶å¿«é€Ÿè·³è½¬ç­‰åŠŸèƒ½ï¼Œå¸®åŠ©å¼€å‘è€…æ›´ä¾¿æ·åœ°è¿›è¡Œ MyBatis åº”ç”¨çš„å¼€å‘å’Œè°ƒè¯•ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

### 1. SQL æ—¥å¿—æ‹¦æˆªä¸è½¬æ¢

å®æ—¶æ‹¦æˆªåº”ç”¨ç¨‹åºæ—¥å¿—ä¸­çš„ MyBatis SQL è¯­å¥ï¼Œè‡ªåŠ¨è§£æå‚æ•°å¹¶ç”Ÿæˆå¯æ‰§è¡Œçš„å®Œæ•´ SQLã€‚

**æ ¸å¿ƒåŠŸèƒ½ï¼š**
- ğŸ¯ **æ™ºèƒ½ç›‘å¬**ï¼šè‡ªåŠ¨è¯†åˆ« Debug Console æˆ– Terminal è¾“å‡ºçš„ MyBatis æ—¥å¿—
- ğŸ” **å‚æ•°è§£æ**ï¼šå°† `?` å ä½ç¬¦æ›¿æ¢ä¸ºå®é™…å‚æ•°å€¼ï¼Œç”Ÿæˆå¯ç›´æ¥æ‰§è¡Œçš„ SQL
- âš¡ **å®æ—¶å±•ç¤º**ï¼šåœ¨ä¾§è¾¹æ  SQL å†å²ä¸­å®æ—¶æ˜¾ç¤ºæ•è·çš„ SQL
- ğŸ“Š **æ‰§è¡Œæ—¶é—´**ï¼šè‡ªåŠ¨æå–å¹¶æ˜¾ç¤º SQL æ‰§è¡Œè€—æ—¶
- ğŸ¨ **è¯­æ³•é«˜äº®**ï¼šæ”¯æŒå¤šç§æ•°æ®åº“çš„ SQL è¯­æ³•é«˜äº®å’Œæ ¼å¼åŒ–
- ğŸ“‹ **ä¸€é”®å¤åˆ¶**ï¼šæ”¯æŒå¤åˆ¶æ ¼å¼åŒ– SQL æˆ–å¸¦å‚æ•°æ³¨é‡Šçš„ SQL
- ğŸ• **å†å²è®°å½•**ï¼šè‡ªåŠ¨ä¿å­˜æœ€è¿‘ 500 æ¡ SQLï¼ˆå¯é…ç½®ï¼‰
- â¸ï¸ **éšæ—¶æš‚åœ**ï¼šå¯éšæ—¶æš‚åœ/æ¢å¤ SQL æ‹¦æˆªï¼Œæ–¹ä¾¿æŸ¥çœ‹å†å²
- ğŸŒ **å¤šè¯­è¨€æ”¯æŒ**ï¼šSQL è¯¦æƒ…é¢æ¿æ”¯æŒå›½é™…åŒ–æ˜¾ç¤º

**æ”¯æŒçš„æ•°æ®åº“ï¼š**
- MySQL / MariaDB
- PostgreSQL
- Oracle
- SQL Server
- SQLite
- DB2
- H2
- è¾¾æ¢¦ / äººå¤§é‡‘ä»“ï¼ˆé€šè¿‡é€šç”¨è§„åˆ™æ”¯æŒï¼‰

### 2. æ–‡ä»¶å¿«é€Ÿè·³è½¬

- Mapper æ¥å£ä¸ XML æ–‡ä»¶ä¹‹é—´çš„ä¸€é”®åŒå‘è·³è½¬ï¼Œæ— éœ€æ‰‹åŠ¨æŸ¥æ‰¾æ–‡ä»¶
- **æ™ºèƒ½è·³è½¬å¢å¼º**ï¼šå¢å¼ºçš„æ˜ å°„ç®—æ³•å’Œæ™ºèƒ½è¯†åˆ«åŠŸèƒ½ï¼Œå¤§å¹…æå‡æ–‡ä»¶é—´è·³è½¬çš„å‡†ç¡®æ€§å’Œé€Ÿåº¦
- æ™ºèƒ½æ‰«æé¡¹ç›®ç»“æ„ï¼Œè‡ªåŠ¨å»ºç«‹ Mapper æ¥å£ä¸ XML æ–‡ä»¶çš„æ˜ å°„å…³ç³»
- æ”¯æŒæ ‡å‡† Maven/Gradle é¡¹ç›®ç»“æ„åŠè‡ªå®šä¹‰é¡¹ç›®å¸ƒå±€
- é’ˆå¯¹å¤§å‹å¤æ‚é¡¹ç›®ä¼˜åŒ–çš„æ˜ å°„ç®—æ³•ï¼Œå¿«é€Ÿå®šä½ç›®æ ‡æ–‡ä»¶
- æ”¯æŒé€šè¿‡å…¨é™å®šç±»åæœç´¢å¯¹åº”çš„ Mapper æ¥å£å’Œ XML æ–‡ä»¶
- è‡ªåŠ¨åˆ·æ–°æ˜ å°„ç¼“å­˜ï¼Œç¡®ä¿æ–‡ä»¶ä½ç½®å˜æ›´æ—¶ä»èƒ½æ­£ç¡®è·³è½¬
- æŒ‰éœ€æ¿€æ´»ï¼šä»…åœ¨æ£€æµ‹åˆ° Java é¡¹ç›®æ—¶æ‰å¼€å§‹æ‰§è¡Œæ˜ å°„å…³ç³»å¤„ç†é€»è¾‘
- ç²¾ç¡®æ–‡ä»¶æŸ¥æ‰¾ï¼šé€šè¿‡é’ˆå¯¹ç‰¹å®šæ–‡ä»¶çš„ç²¾ç¡®æŸ¥æ‰¾æ›¿ä»£å…¨æ–‡ä»¶å¤¹æ‰«æï¼Œæé«˜è·³è½¬æ•ˆç‡
- è·³è½¬èŠ‚æµæ§åˆ¶ï¼šé˜²æ­¢é¢‘ç¹è·³è½¬æ“ä½œå¯¼è‡´æ€§èƒ½é—®é¢˜
- XML å‘½åç©ºé—´éªŒè¯ï¼šç¡®ä¿ XML æ–‡ä»¶ä¸ Mapper æ¥å£æ­£ç¡®å…³è”
- æ–¹æ³•åæå–ä¸ä½ç½®å®šä½ï¼šç²¾ç¡®å®šä½åˆ°å¯¹åº”çš„æ–¹æ³•ä½ç½®
- **ç²¾ç¡®æ–¹æ³•è·³è½¬**ï¼šæ”¯æŒåœ¨è·³è½¬æ—¶ç²¾ç¡®å®šä½åˆ°å¯¹åº”çš„å…·ä½“æ–¹æ³•ï¼Œè€Œä»…ä»…æ˜¯æ‰“å¼€æ–‡ä»¶
- **é‡æ„è·³è½¬é€»è¾‘**ï¼šé‡‡ç”¨ç‹¬ç«‹çš„å¯¼èˆªå™¨æ¨¡å¼ï¼ˆJavaToXmlNavigatorå’ŒXmlToJavaNavigatorï¼‰ï¼Œæé«˜ä»£ç å¯ç»´æŠ¤æ€§
- **ä¼˜å…ˆä½¿ç”¨Javaæ’ä»¶API**ï¼šä¼˜å…ˆä½¿ç”¨Red Hat Javaæ’ä»¶æä¾›çš„APIè¿›è¡Œç²¾ç¡®å¯¼èˆªï¼Œæå‡è·³è½¬å‡†ç¡®æ€§

### 3. CodeLens æ”¯æŒ

- **ä»…å¯¹ Mapper æ¥å£æä¾›æ”¯æŒ**ï¼šä¼˜åŒ–çš„ CodeLens å®ç°ï¼Œä»…åœ¨ Java Mapper æ¥å£æ–‡ä»¶ä¸­æ˜¾ç¤º
- **Java æ–‡ä»¶ä¸­çš„ CodeLens**ï¼šåœ¨ Java Mapper æ¥å£çš„æ–¹æ³•ä¸Šæ–¹æ˜¾ç¤º"è·³è½¬åˆ° XML"çš„ CodeLens æç¤º
- **æ™ºèƒ½æ˜¾ç¤ºæ§åˆ¶**ï¼šCodeLens ä»…åœ¨æ£€æµ‹åˆ°æœ‰æ•ˆæ˜ å°„å…³ç³»å¹¶ä¸”æ–¹æ³•åœ¨å¯¹åº”XMLä¸­å­˜åœ¨æ—¶æ˜¾ç¤ºï¼Œé¿å…æ˜¾ç¤ºæ— æ•ˆçš„è·³è½¬æç¤º
- **ç‚¹å‡»ç›´æ¥è·³è½¬**ï¼šç”¨æˆ·ç‚¹å‡» CodeLens æç¤ºå¯ç›´æ¥æ‰§è¡Œè·³è½¬æ“ä½œï¼Œæ— éœ€ä½¿ç”¨å¿«æ·é”®æˆ–å³é”®èœå•
- æä¾›é…ç½®é€‰é¡¹å…è®¸ç”¨æˆ·å¯ç”¨æˆ–ç¦ç”¨ CodeLens åŠŸèƒ½ï¼Œé»˜è®¤å¯ç”¨

### 4. å›½é™…åŒ–æ”¯æŒ

- æ”¯æŒå¤šè¯­è¨€ç•Œé¢ï¼Œèƒ½å¤Ÿæ ¹æ® VSCode çš„è¯­è¨€è®¾ç½®è‡ªåŠ¨åˆ‡æ¢æ˜¾ç¤ºè¯­è¨€ï¼ˆæ”¯æŒè‹±æ–‡å’Œä¸­æ–‡ï¼‰

### 5. SQL è¾“å…¥æ™ºèƒ½è¡¥å…¨

- åœ¨ Mapper XML æ–‡ä»¶ä¸­è¾“å…¥ `#{` æˆ– `${` æ—¶ï¼Œè‡ªåŠ¨æä¾›åŸºäº Java Mapper æ¥å£æ–¹æ³•å‚æ•°çš„è¡¥å…¨å»ºè®®
- æ”¯æŒåŸºæœ¬ç±»å‹ã€è‡ªå®šä¹‰å¯¹è±¡å±æ€§å’Œé›†åˆç±»å‹çš„è¡¥å…¨æç¤º
- æä¾›ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„è¡¥å…¨å»ºè®®ï¼Œæ ¹æ®å½“å‰æ–¹æ³•è‡ªåŠ¨è¿‡æ»¤å‚æ•°
- æ”¯æŒåµŒå¥—å¯¹è±¡å±æ€§è¡¥å…¨ï¼Œå¦‚ `#{user.name}`
- è¡¥å…¨é¡¹åŒ…å«å‚æ•°åç§°å’Œç±»å‹ä¿¡æ¯

### 6. ç”¨æˆ·å‹å¥½çš„ç•Œé¢

- ç®€æ´æ˜äº†çš„å‘½ä»¤èœå•ï¼Œæ‰€æœ‰åŠŸèƒ½ä¸€ç›®äº†ç„¶
- ç²¾å¿ƒè®¾è®¡çš„å¿«æ·é”®ä½“ç³»ï¼Œæ“ä½œé«˜æ•ˆä¾¿æ·
- ç¼–è¾‘å™¨å³é”®èœå•æ·±åº¦é›†æˆï¼Œè§¦æ‰‹å¯åŠ
- å®æ—¶çŠ¶æ€åé¦ˆï¼Œæ“ä½œç»“æœå³æ—¶å¯è§
- ç¬¦åˆ VSCode è®¾è®¡è§„èŒƒçš„ç”¨æˆ·ä½“éªŒï¼Œæ— ç¼èå…¥å¼€å‘ç¯å¢ƒ
- SQL ç»“æœå¯è§†åŒ–æ˜¾ç¤ºï¼šæä¾› Webview é¢æ¿å±•ç¤ºæ ¼å¼åŒ–å’Œé«˜äº®çš„ SQL ç»“æœ
- Webview äº¤äº’åŠŸèƒ½ï¼šåŒ…å«å¤åˆ¶æŒ‰é’®ã€åˆ·æ–°æŒ‰é’®ã€æœç´¢åŠŸèƒ½ç­‰
- éšæœº nonce ç”Ÿæˆï¼šä¸º Webview æä¾›å®‰å…¨ä¿éšœ

### 7. æ’ä»¶æ—¥å¿—ç³»ç»Ÿ

- æä¾› DEBUG/INFO/WARN/ERROR å››ä¸ªæ—¥å¿—çº§åˆ«
- æ—¥å¿—è¾“å‡ºåˆ°ä¸“ç”¨çš„ "MyBatis Helper" è¾“å‡ºé€šé“
- æ”¯æŒåŠ¨æ€è°ƒæ•´æ—¥å¿—çº§åˆ«
- è¯¦ç»†è®°å½•æ’ä»¶è¿è¡ŒçŠ¶æ€å’Œé”™è¯¯ä¿¡æ¯
- ä¾¿äºå¼€å‘è€…è°ƒè¯•å’Œæ’æŸ¥é—®é¢˜

## å®‰è£…æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šä» VSCode æ‰©å±•å¸‚åœºå®‰è£…

1. åœ¨ VSCode ä¸­æ‰“å¼€æ‰©å±•é¢æ¿ (å¿«æ·é”®: `Ctrl+Shift+X` æˆ– `Command+Shift+X`)
2. åœ¨æœç´¢æ¡†ä¸­è¾“å…¥ "MyBatis Helper"
3. æ‰¾åˆ°æ’ä»¶åç‚¹å‡» "å®‰è£…" æŒ‰é’®
4. å®‰è£…å®Œæˆåï¼Œæ’ä»¶ä¼šè‡ªåŠ¨æ¿€æ´»ï¼Œæ— éœ€é‡å¯ VSCode

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å®‰è£…

1. ä» GitHub ä»“åº“ä¸‹è½½æœ€æ–°çš„å‘å¸ƒç‰ˆæœ¬
2. åœ¨ VSCode ä¸­æ‰§è¡Œ "å®‰è£…ä» VSIX..." å‘½ä»¤
3. é€‰æ‹©ä¸‹è½½çš„ VSIX æ–‡ä»¶
4. å®‰è£…å®Œæˆåé‡å¯ VSCode

## ä½¿ç”¨æŒ‡å—

### 1. SQL æ—¥å¿—æ‹¦æˆªåŠŸèƒ½è¯¦è§£

#### å¿«é€Ÿå¼€å§‹

1. **å¯åŠ¨ SQL æ‹¦æˆª**
   - æ’ä»¶é»˜è®¤è‡ªåŠ¨å¯åŠ¨ SQL æ‹¦æˆªï¼ˆå¯é€šè¿‡é…ç½®å…³é—­ï¼‰
   - ç‚¹å‡»å·¦ä¾§æ´»åŠ¨æ çš„ MyBatis Helper å›¾æ ‡ï¼Œæ‰“å¼€ SQL å†å²è§†å›¾
   - å¦‚æœªè‡ªåŠ¨å¯åŠ¨ï¼Œç‚¹å‡»å·¥å…·æ çš„ â–¶ï¸ æŒ‰é’®æ‰‹åŠ¨å¯åŠ¨

2. **è¿è¡Œåº”ç”¨ç¨‹åº**
   - åœ¨ VSCode ä¸­å¯åŠ¨ä½ çš„ Java/MyBatis åº”ç”¨ç¨‹åºï¼ˆDebug æˆ– Run æ¨¡å¼ï¼‰
   - ç¡®ä¿ MyBatis æ—¥å¿—çº§åˆ«ä¸º DEBUGï¼ˆéœ€è¦è¾“å‡º `Preparing:` å’Œ `Parameters:` æ—¥å¿—ï¼‰

3. **æŸ¥çœ‹ SQL**
   - SQL ä¼šè‡ªåŠ¨æ˜¾ç¤ºåœ¨å·¦ä¾§ "SQL å†å²" è§†å›¾ä¸­
   - ç‚¹å‡»ä»»æ„ SQL é¡¹å¯æŸ¥çœ‹è¯¦æƒ…é¢æ¿ï¼ˆæ ¼å¼åŒ– SQLã€åŸå§‹ SQLã€å‚æ•°åˆ—è¡¨ç­‰ï¼‰

#### ç•Œé¢è¯´æ˜

**SQL å†å²ä¾§è¾¹æ ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”„  â¸ï¸  ğŸ—‘ï¸                      â”‚  â† å·¥å…·æ ï¼šåˆ·æ–° / æš‚åœ/æ¢å¤ / æ¸…ç©º
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âš¡ Just now (3 params)          â”‚  â† SQL é¡¹ï¼šæ‰§è¡Œæ—¶é—´ã€å‚æ•°æ•°é‡
â”‚ SELECT * FROM user...           â”‚     é¼ æ ‡æ‚¬åœæ˜¾ç¤ºå®Œæ•´ SQL é¢„è§ˆ
â”‚                                 â”‚
â”‚ ğŸ“‹ 2 min ago (0 params)         â”‚
â”‚ UPDATE user SET name...         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**SQL è¯¦æƒ…é¢æ¿ï¼š**
- **æ ¼å¼åŒ– SQL**ï¼šè¯­æ³•é«˜äº®ã€æ ¼å¼åŒ–çš„å¯æ‰§è¡Œ SQL
- **åŸå§‹ SQL**ï¼šå¸¦ `?` å ä½ç¬¦çš„åŸå§‹ SQL
- **å‚æ•°åˆ—è¡¨**ï¼šæ˜¾ç¤ºæ¯ä¸ªå‚æ•°çš„åºå·ã€å€¼å’Œç±»å‹
- **å¤åˆ¶æŒ‰é’®**ï¼š
  - å¤åˆ¶æ ¼å¼åŒ– SQL
  - å¤åˆ¶å¸¦å‚æ•°æ³¨é‡Šçš„ SQLï¼ˆç”¨äºæ’æŸ¥é—®é¢˜ï¼‰

#### å·¥å…·æ æŒ‰é’®

| å›¾æ ‡ | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|
| ğŸ”„ | åˆ·æ–° | åˆ·æ–° SQL å†å²åˆ—è¡¨ |
| â¸ï¸ | æš‚åœ | æš‚åœ SQL æ‹¦æˆªï¼ˆä¸å†æ•è·æ–° SQLï¼‰ |
| â–¶ï¸ | æ¢å¤ | æ¢å¤ SQL æ‹¦æˆª |
| ğŸ—‘ï¸ | æ¸…ç©º | æ¸…ç©ºæ‰€æœ‰ SQL å†å²è®°å½• |

#### ç›‘å¬æ¨¡å¼é…ç½®

æ ¹æ®ä½ çš„ Java åº”ç”¨ç¨‹åºè¿è¡Œæ–¹å¼é€‰æ‹©åˆé€‚çš„ç›‘å¬æ¨¡å¼ï¼š

```json
{
  "mybatis-helper.sqlInterceptor.listenMode": "auto"
}
```

| æ¨¡å¼ | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| `auto` | **é»˜è®¤**ï¼Œè‡ªåŠ¨æ£€æµ‹ Java Debug é…ç½® | æ¨èä½¿ç”¨ |
| `debugConsole` | å¼ºåˆ¶ç›‘å¬ Debug Console | ä½¿ç”¨ `internalConsole` è¿è¡Œ Java æ—¶ |
| `terminal` | å¼ºåˆ¶ç›‘å¬ Terminal | ä½¿ç”¨ `integratedTerminal` è¿è¡Œ Java æ—¶ |

**Auto æ¨¡å¼æ£€æµ‹é€»è¾‘ï¼š**
- è¯»å– `java.debug.settings.console` é…ç½®
- `internalConsole` â†’ ç›‘å¬ Debug Console
- `integratedTerminal` â†’ ç›‘å¬ Terminal
- `externalTerminal` â†’ æç¤ºä¸æ”¯æŒï¼ˆå¤–éƒ¨ç»ˆç«¯æ— æ³•ç›‘å¬ï¼‰

#### æ”¯æŒçš„æ—¥å¿—æ ¼å¼

æ’ä»¶å†…ç½®ä¸¤ç§è§„åˆ™ï¼Œè‡ªåŠ¨è¯†åˆ«ä»¥ä¸‹æ ¼å¼çš„æ—¥å¿—ï¼š

**æ ‡å‡† MyBatis æ ¼å¼ï¼š**
```
==>  Preparing: SELECT * FROM user WHERE id = ? AND name = ?
==> Parameters: 123(Integer), admin(String)
<==      Total: 1
```

**å¸¦æ—¶é—´æˆ³æ ¼å¼ï¼š**
```
2024-01-15 10:30:25.123 [main] DEBUG c.m.UserMapper.selectById - ==>  Preparing: SELECT * FROM user WHERE id = ?
2024-01-15 10:30:25.124 [main] DEBUG c.m.UserMapper.selectById - ==> Parameters: 123(Integer)
```

**ä¸­æ–‡æ‹¬å·æ ¼å¼ï¼ˆå…¼å®¹ï¼‰ï¼š**
```
==> Parameters: adminï¼ˆStringï¼‰, 25(Integer)
```

#### å®Œæ•´é…ç½®é€‰é¡¹

```json
{
  "mybatis-helper.sqlInterceptor.listenMode": "auto",
  "mybatis-helper.sqlInterceptor.autoStart": true,
  "mybatis-helper.sqlInterceptor.maxHistorySize": 500,
  "mybatis-helper.sqlInterceptor.autoScrollBehavior": "onlyWhenNotInteracting",
  "mybatis-helper.sqlInterceptor.builtinRules": {
    "mybatis-universal": true,
    "mybatis-sqlsession": true
  }
}
```

**é…ç½®è¯´æ˜ï¼š**

| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|--------|------|
| `listenMode` | string | `auto` | ç›‘å¬æ¨¡å¼ï¼š`auto`/`debugConsole`/`terminal` |
| `autoStart` | boolean | `true` | æ’ä»¶æ¿€æ´»æ—¶æ˜¯å¦è‡ªåŠ¨å¯åŠ¨ SQL æ‹¦æˆª |
| `maxHistorySize` | number | `500` | SQL å†å²è®°å½•æœ€å¤§æ¡æ•°ï¼ˆ10-1000ï¼‰ |
| `autoScrollBehavior` | string | `onlyWhenNotInteracting` | è‡ªåŠ¨æ»šåŠ¨è¡Œä¸ºï¼š`always`/`onlyWhenNotInteracting`/`never` |
| `builtinRules` | object | - | å†…ç½®è§„åˆ™å¼€å…³ |

#### è‡ªå®šä¹‰æ—¥å¿—è§£æè§„åˆ™

å¦‚æœå†…ç½®è§„åˆ™æ— æ³•åŒ¹é…ä½ çš„æ—¥å¿—æ ¼å¼ï¼Œå¯ä»¥æ·»åŠ è‡ªå®šä¹‰è§„åˆ™ï¼š

```json
{
  "mybatis-helper.sqlInterceptor.customRules": [
    {
      "name": "my-custom-rule",
      "enabled": true,
      "description": "åŒ¹é…è‡ªå®šä¹‰æ—¥å¿—æ ¼å¼",
      "lineMatchRegex": "(SQL:|PARAMS:)",
      "sqlExtractRegex": "SQL:\\s*(.+)",
      "parametersExtractRegex": "PARAMS:\\s*(.+)",
      "executionTimeExtractRegex": "TIME:\\s*(\\d+)",
      "paramParseRegex": "([^,]+)\\(([^)]+)\\)"
    }
  ]
}
```

**è§„åˆ™å­—æ®µè¯´æ˜ï¼š**

| å­—æ®µ | å¿…å¡« | è¯´æ˜ |
|------|------|------|
| `name` | âœ… | è§„åˆ™å”¯ä¸€åç§° |
| `enabled` | âœ… | æ˜¯å¦å¯ç”¨ |
| `lineMatchRegex` | âœ… | åŒ¹é…æ—¥å¿—è¡Œçš„æ­£åˆ™ï¼Œç”¨äºè¯†åˆ«ç›¸å…³æ—¥å¿— |
| `sqlExtractRegex` | âœ… | æå– SQL çš„æ­£åˆ™ï¼Œå¿…é¡»æœ‰ä¸€ä¸ªæ•è·ç»„ |
| `parametersExtractRegex` | âŒ | æå–å‚æ•°å­—ç¬¦ä¸²çš„æ­£åˆ™ |
| `executionTimeExtractRegex` | âŒ | æå–æ‰§è¡Œæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰çš„æ­£åˆ™ |
| `paramParseRegex` | âŒ | è§£æå•ä¸ªå‚æ•°çš„æ­£åˆ™ï¼Œä¸¤ä¸ªæ•è·ç»„ï¼šå€¼å’Œç±»å‹ |

**å‚æ•°è§£ææ­£åˆ™ç¤ºä¾‹ï¼š**

å‡è®¾å‚æ•°æ ¼å¼ä¸º `value(type)`ï¼Œå¦‚ `admin(String), 123(Integer)`ï¼š
```regex
([^,]+)\(([^)]+)\)
```

å‡è®¾å‚æ•°æ ¼å¼ä¸º `type:value`ï¼Œå¦‚ `String:admin, Integer:123`ï¼š
```regex
([^:]+):(.+)
```

å‡è®¾å‚æ•°æ²¡æœ‰ç±»å‹ï¼Œåªæœ‰å€¼ï¼Œå¦‚ `admin, 123`ï¼š
```regex
([^,]+)
```
ï¼ˆæ­¤æ—¶ç±»å‹ä¼šæ˜¾ç¤ºä¸º `unknown`ï¼‰

#### å¸¸è§é—®é¢˜

**Q: SQL å†å²ä¸ºç©ºï¼Œæ²¡æœ‰æ•è·åˆ° SQL**

A: è¯·æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. MyBatis æ—¥å¿—çº§åˆ«æ˜¯å¦ä¸º DEBUGï¼ˆéœ€è¦åœ¨æ—¥å¿—ä¸­çœ‹åˆ° `Preparing:` å’Œ `Parameters:`ï¼‰
2. ç›‘å¬æ¨¡å¼æ˜¯å¦æ­£ç¡®ï¼ˆå°è¯•åˆ‡æ¢ `auto`/`debugConsole`/`terminal`ï¼‰
3. æ’ä»¶æ˜¯å¦å·²å¯åŠ¨ï¼ˆæŸ¥çœ‹å·¥å…·æ æŒ‰é’®çŠ¶æ€ï¼‰
4. æ—¥å¿—æ ¼å¼æ˜¯å¦è¢«å†…ç½®è§„åˆ™æ”¯æŒï¼ˆå¯æ·»åŠ è‡ªå®šä¹‰è§„åˆ™ï¼‰

**Q: å‚æ•°æ˜¾ç¤ºä¸º 0ï¼Œä½†æ—¥å¿—ä¸­æœ‰å‚æ•°**

A: å¯èƒ½æ˜¯å‚æ•°è§£ææ­£åˆ™ä¸åŒ¹é…ä½ çš„æ—¥å¿—æ ¼å¼ã€‚æ£€æŸ¥ï¼š
1. å‚æ•°æ ¼å¼æ˜¯ `value(type)` è¿˜æ˜¯å…¶ä»–æ ¼å¼
2. æ˜¯å¦ä½¿ç”¨äº†ä¸­æ–‡æ‹¬å· `ï¼ˆï¼‰`
3. å°è¯•æ·»åŠ è‡ªå®šä¹‰è§„åˆ™åŒ¹é…ä½ çš„æ ¼å¼

**Q: SQL å†å²ä¸­çš„ SQL å’Œå®é™…æ‰§è¡Œçš„ä¸ä¸€è‡´**

A: å¯èƒ½æ˜¯å¹¶å‘å¤„ç†å¯¼è‡´ã€‚æ’ä»¶ä½¿ç”¨ 100ms å»é‡çª—å£é˜²æ­¢é‡å¤å¤„ç†ï¼Œå¦‚æœåŒä¸€ SQL åœ¨ 100ms å†…å¤šæ¬¡å‡ºç°ï¼Œåªä¼šè®°å½•ä¸€æ¬¡ã€‚

**Q: å¦‚ä½•å¯¼å‡º SQL å†å²ï¼Ÿ**

A: å½“å‰ç‰ˆæœ¬ä¸æ”¯æŒç›´æ¥å¯¼å‡ºï¼Œä½†å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–ï¼š
1. ç‚¹å‡» SQL é¡¹æ‰“å¼€è¯¦æƒ…é¢æ¿
2. ä½¿ç”¨å¤åˆ¶æŒ‰é’®å¤åˆ¶å•æ¡ SQL
3. æˆ–ä½¿ç”¨ VSCode çš„å¼€å‘è€…å·¥å…·æŸ¥çœ‹è¾“å‡ºé€šé“

**Q: æ”¯æŒé MyBatis çš„ SQL æ—¥å¿—å—ï¼Ÿ**

A: å¯ä»¥é€šè¿‡è‡ªå®šä¹‰è§„åˆ™æ”¯æŒå…¶ä»– ORM æ¡†æ¶ï¼Œåªè¦æ—¥å¿—åŒ…å« SQL è¯­å¥å’Œå‚æ•°ä¿¡æ¯å³å¯ã€‚éœ€è¦é…ç½®åˆé€‚çš„æ­£åˆ™è¡¨è¾¾å¼æ¥æå– SQL å’Œå‚æ•°ã€‚

### 2. æ–‡ä»¶å¿«é€Ÿè·³è½¬

#### ä» Java Mapper æ¥å£è·³è½¬åˆ° XML æ–‡ä»¶

1. å°†å…‰æ ‡æ”¾åœ¨ Java Mapper æ¥å£çš„æ–¹æ³•åæˆ–æ¥å£åä¸Š
2. æŒ‰ä¸‹å¿«æ·é”® `Alt+X`ï¼ˆWindows/Linuxï¼‰æˆ– `Option+X`ï¼ˆmacOSï¼‰
3. æˆ–è€…ï¼Œå³é”®ç‚¹å‡»å¹¶é€‰æ‹© "è·³è½¬åˆ° XML æ–‡ä»¶" ä¸Šä¸‹æ–‡èœå•é€‰é¡¹
4. æ’ä»¶ä¼šè‡ªåŠ¨æ‰“å¼€å¯¹åº”çš„ XML æ–‡ä»¶ï¼Œå¹¶å®šä½åˆ°å¯¹åº”çš„ SQL è¯­å¥æ–¹æ³•

#### ä» XML æ–‡ä»¶è·³è½¬åˆ° Java Mapper æ¥å£

1. å°†å…‰æ ‡æ”¾åœ¨ XML æ–‡ä»¶çš„ SQL è¯­å¥çš„ id å±æ€§å€¼ä¸Š
2. æŒ‰ä¸‹å¿«æ·é”® `Alt+M`ï¼ˆWindows/Linuxï¼‰æˆ– `Option+M`ï¼ˆmacOSï¼‰
3. æˆ–è€…ï¼Œå³é”®ç‚¹å‡»å¹¶é€‰æ‹© "è·³è½¬åˆ° Mapper æ¥å£" ä¸Šä¸‹æ–‡èœå•é€‰é¡¹
4. æ’ä»¶ä¼šè‡ªåŠ¨æ‰“å¼€å¯¹åº”çš„ Java Mapper æ¥å£æ–‡ä»¶ï¼Œå¹¶å®šä½åˆ°å¯¹åº”çš„æ–¹æ³•å®šä¹‰

#### ä½¿ç”¨å‘½ä»¤é¢æ¿

1. æŒ‰ä¸‹ `Ctrl+Shift+P`ï¼ˆWindows/Linuxï¼‰æˆ– `Command+Shift+P`ï¼ˆmacOSï¼‰æ‰“å¼€å‘½ä»¤é¢æ¿
2. è¾“å…¥ "MyBatis" æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
3. é€‰æ‹©ç›¸åº”çš„å‘½ä»¤æ‰§è¡Œæ“ä½œ

### 3. ä½¿ç”¨ CodeLens

1. ç¡®ä¿åœ¨ VSCode è®¾ç½®ä¸­å¯ç”¨äº† CodeLens åŠŸèƒ½ï¼ˆé»˜è®¤å·²å¯ç”¨ï¼‰
2. æ‰“å¼€ Java Mapper æ¥å£æ–‡ä»¶
3. åœ¨æ–¹æ³•å®šä¹‰ä¸Šæ–¹ä¼šå‡ºç° "è·³è½¬åˆ° XML" çš„ CodeLens
4. ç‚¹å‡»è¯¥ CodeLens ç›´æ¥è·³è½¬åˆ°å¯¹åº”çš„ XML æ–‡ä»¶ä¸­çš„ SQL è¯­å¥

### å¿«æ·é”®è¯´æ˜

| å¿«æ·é”® | åŠŸèƒ½ | é€‚ç”¨åœºæ™¯ |
|--------|------|----------|
| `Alt+X` | ä» Mapper è·³è½¬åˆ° XML | åœ¨ Java Mapper æ¥å£æ–‡ä»¶ä¸­ |
| `Alt+M` | ä» XML è·³è½¬åˆ° Mapper | åœ¨ Mapper XML æ–‡ä»¶ä¸­ |
| `Ctrl+Shift+P` + `MyBatis` | æ‰“å¼€å‘½ä»¤é¢æ¿å¹¶æœç´¢ MyBatis ç›¸å…³å‘½ä»¤ | ä»»ä½•ç¼–è¾‘å™¨çª—å£ |

### å‘½ä»¤é¢æ¿å‘½ä»¤

åœ¨å‘½ä»¤é¢æ¿ï¼ˆ`Ctrl+Shift+P` æˆ– `Command+Shift+P`ï¼‰ä¸­è¾“å…¥ "MyBatis" å¯æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤ï¼š

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `MyBatis Helper: Pause SQL Interceptor` | æš‚åœ SQL æ‹¦æˆª |
| `MyBatis Helper: Resume SQL Interceptor` | æ¢å¤ SQL æ‹¦æˆª |
| `MyBatis Helper: Clear SQL History` | æ¸…ç©º SQL å†å² |
| `MyBatis Helper: Refresh SQL History` | åˆ·æ–° SQL å†å² |
| `MyBatis Helper: Jump to XML` | è·³è½¬åˆ° XML æ–‡ä»¶ |
| `MyBatis Helper: Jump to Mapper` | è·³è½¬åˆ° Mapper æ¥å£ |
| `MyBatis Helper: Refresh Mappings` | åˆ·æ–° Mapper æ˜ å°„ç¼“å­˜ |

## æ”¯æŒçš„æ•°æ®åº“

MyBatis Helper æ”¯æŒå¤šç§ä¸»æµæ•°æ®åº“ï¼Œæ¯ç§æ•°æ®åº“éƒ½æœ‰ç‰¹å®šçš„ SQL è¯­æ³•é«˜äº®å’Œæ ¼å¼åŒ–è§„åˆ™ã€‚æ‚¨å¯ä»¥åœ¨æ’ä»¶è®¾ç½®ä¸­é€‰æ‹©é€‚åˆæ‚¨é¡¹ç›®çš„æ•°æ®åº“ç±»å‹ï¼š

- MySQL
- PostgreSQL
- Oracle
- SQL Server
- SQLite
- DB2
- H2
- MariaDB

## é¡¹ç›®é…ç½®

MyBatis Helper æä¾›äº†çµæ´»çš„é…ç½®é€‰é¡¹ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡Œä¸ªæ€§åŒ–è®¾ç½®ï¼š

### æ•°æ®åº“ç±»å‹

- é…ç½®é¡¹ï¼š`mybatis-helper.databaseType`
- è¯´æ˜ï¼šè®¾ç½®å½“å‰é¡¹ç›®ä½¿ç”¨çš„æ•°æ®åº“ç±»å‹ï¼Œä¸åŒæ•°æ®åº“æœ‰ç‰¹å®šçš„ SQL è¯­æ³•é«˜äº®å’Œæ ¼å¼åŒ–è§„åˆ™
- é»˜è®¤å€¼ï¼š`mysql`
- å¯é€‰å€¼ï¼š`mysql`, `postgresql`, `oracle`, `sqlserver`, `sqlite`, `db2`, `h2`, `mariadb`

### SQL æ—¥å¿—æ‹¦æˆªå™¨é…ç½®

#### å¯ç”¨è‡ªåŠ¨å¯åŠ¨

- é…ç½®é¡¹ï¼š`mybatis-helper.sqlInterceptor.autoStart`
- è¯´æ˜ï¼šæ§åˆ¶æ’ä»¶æ¿€æ´»æ—¶æ˜¯å¦è‡ªåŠ¨å¯åŠ¨ SQL æ‹¦æˆª
- é»˜è®¤å€¼ï¼š`true`
- å¯é€‰å€¼ï¼š`true` | `false`

#### ç›‘å¬æ¨¡å¼

- é…ç½®é¡¹ï¼š`mybatis-helper.sqlInterceptor.listenMode`
- è¯´æ˜ï¼šé€‰æ‹© SQL æ—¥å¿—çš„ç›‘å¬æ¥æº
- é»˜è®¤å€¼ï¼š`auto`
- å¯é€‰å€¼ï¼š
  - `auto`ï¼šè‡ªåŠ¨æ ¹æ® Java Debug é…ç½®é€‰æ‹©ï¼ˆæ¨èï¼‰
  - `debugConsole`ï¼šå¼ºåˆ¶ç›‘å¬ Debug Console
  - `terminal`ï¼šå¼ºåˆ¶ç›‘å¬ Terminal

#### æœ€å¤§å†å²è®°å½•æ•°

- é…ç½®é¡¹ï¼š`mybatis-helper.sqlInterceptor.maxHistorySize`
- è¯´æ˜ï¼šæ§åˆ¶ SQL å†å²è®°å½•çš„æœ€å¤§æ¡æ•°
- é»˜è®¤å€¼ï¼š`500`
- å¯é€‰å€¼ï¼š`10` - `1000`

#### è‡ªåŠ¨æ»šåŠ¨è¡Œä¸º

- é…ç½®é¡¹ï¼š`mybatis-helper.sqlInterceptor.autoScrollBehavior`
- è¯´æ˜ï¼šå½“æ–°çš„ SQL æ·»åŠ åˆ°å†å²è®°å½•æ—¶ï¼Œæ§åˆ¶è‡ªåŠ¨æ»šåŠ¨è¡Œä¸º
- é»˜è®¤å€¼ï¼š`onlyWhenNotInteracting`
- å¯é€‰å€¼ï¼š
  - `always`ï¼šå§‹ç»ˆè‡ªåŠ¨æ»šåŠ¨åˆ°æœ€æ–°çš„ SQL
  - `onlyWhenNotInteracting`ï¼šä»…åœ¨ç”¨æˆ·æœªä¸åˆ—è¡¨äº¤äº’æ—¶è‡ªåŠ¨æ»šåŠ¨
  - `never`ï¼šä»ä¸è‡ªåŠ¨æ»šåŠ¨

#### å†…ç½®è§„åˆ™å¼€å…³

- é…ç½®é¡¹ï¼š`mybatis-helper.sqlInterceptor.builtinRules`
- è¯´æ˜ï¼šå¯ç”¨æˆ–ç¦ç”¨å†…ç½®çš„ SQL è§£æè§„åˆ™
- é»˜è®¤å€¼ï¼š
  ```json
  {
    "mybatis-universal": true,
    "mybatis-sqlsession": true
  }
  ```

#### è‡ªå®šä¹‰è§£æè§„åˆ™

- é…ç½®é¡¹ï¼š`mybatis-helper.sqlInterceptor.customRules`
- è¯´æ˜ï¼šæ·»åŠ è‡ªå®šä¹‰çš„ SQL æ—¥å¿—è§£æè§„åˆ™ï¼Œç”¨äºéæ ‡å‡†æ—¥å¿—æ ¼å¼
- é»˜è®¤å€¼ï¼š`[]`ï¼ˆç©ºæ•°ç»„ï¼‰
- ç¤ºä¾‹ï¼š
  ```json
  [
    {
      "name": "custom-rule",
      "enabled": true,
      "lineMatchRegex": "SQL:",
      "sqlExtractRegex": "SQL:\\s*(.+)"
    }
  ]
  ```

### å¯ç”¨ CodeLens

- é…ç½®é¡¹ï¼š`mybatis-helper.enableCodeLens`
- è¯´æ˜ï¼šæ§åˆ¶æ˜¯å¦å¯ç”¨ CodeLens åŠŸèƒ½
- é»˜è®¤å€¼ï¼š`true`

### æ–‡ä»¶æ‰“å¼€æ¨¡å¼

- é…ç½®é¡¹ï¼š`mybatis-helper.fileOpenMode`
- è¯´æ˜ï¼šæ§åˆ¶æ–‡ä»¶è·³è½¬æ—¶çš„è¡Œä¸ºæ¨¡å¼
- é»˜è®¤å€¼ï¼š`useExisting`
- å¯é€‰å€¼ï¼š
  - `useExisting`: ä½¿ç”¨å·²æ‰“å¼€çš„çª—å£ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä¸æ‹†åˆ†çª—å£
  - `noSplit`: å§‹ç»ˆä¸æ‹†åˆ†çª—å£
  - `alwaysSplit`: å§‹ç»ˆæ‹†åˆ†çª—å£

## é«˜çº§é…ç½®ç¤ºä¾‹

### è‡ªå®šä¹‰åç§°åŒ¹é…è§„åˆ™ç¤ºä¾‹

å¦‚æœä½ çš„é¡¹ç›®ä½¿ç”¨ç‰¹å®šçš„å‘½åçº¦å®šï¼Œå¯ä»¥é€šè¿‡è‡ªå®šä¹‰åç§°åŒ¹é…è§„åˆ™æ¥æé«˜åŒ¹é…å‡†ç¡®æ€§ï¼š

```json
{
  "mybatis-helper.nameMatchingRules": [
    {
      "name": "Repository Pattern",
      "enabled": true,
      "javaPattern": "*Repository",
      "xmlPattern": "${javaName}",
      "description": "Match UserRepository.java with User.xml"
    },
    {
      "name": "Service Pattern",
      "enabled": true,
      "javaPattern": "*Service",
      "xmlPattern": "${javaName}Mapper",
      "description": "Match UserService.java with UserServiceMapper.xml"
    },
    {
      "name": "Controller Pattern",
      "enabled": false,
      "javaPattern": "*Controller",
      "xmlPattern": "${javaName}Dao",
      "description": "Match UserController.java with UserControllerDao.xml"
    }
  ],
  "mybatis-helper.ignoreSuffixes": ["Mapper", "Dao", "Repository", "Service", "Controller"]
}
```

### è·¯å¾„ä¼˜å…ˆçº§é…ç½®ç¤ºä¾‹

å¦‚æœä½ çš„é¡¹ç›®æœ‰ç‰¹å®šçš„ç›®å½•ç»“æ„ï¼Œå¯ä»¥é€šè¿‡è·¯å¾„ä¼˜å…ˆçº§é…ç½®æ¥ä¼˜åŒ–æ–‡ä»¶æŸ¥æ‰¾ï¼š

```json
{
  "mybatis-helper.pathPriority": {
    "enabled": true,
    "priorityDirectories": [
      "/src/main/java/",
      "/src/main/resources/",
      "/src/main/resources/mapper/",
      "/src/main/resources/dao/",
      "/src/main/resources/mybatis/"
    ],
    "excludeDirectories": [
      "/build/",
      "/target/",
      "/out/",
      "/.git/",
      "/node_modules/",
      "/test/",
      "/tests/"
    ]
  }
}
```

### SQL æ—¥å¿—æ‹¦æˆªå®Œæ•´é…ç½®ç¤ºä¾‹

```json
{
  "mybatis-helper.sqlInterceptor.listenMode": "auto",
  "mybatis-helper.sqlInterceptor.autoStart": true,
  "mybatis-helper.sqlInterceptor.maxHistorySize": 500,
  "mybatis-helper.sqlInterceptor.autoScrollBehavior": "onlyWhenNotInteracting",
  "mybatis-helper.sqlInterceptor.builtinRules": {
    "mybatis-universal": true,
    "mybatis-sqlsession": false
  },
  "mybatis-helper.sqlInterceptor.customRules": [
    {
      "name": "company-format",
      "enabled": true,
      "description": "å…¬å¸å†…éƒ¨æ—¥å¿—æ ¼å¼",
      "lineMatchRegex": "(EXEC_SQL|BIND_PARAMS)",
      "sqlExtractRegex": "EXEC_SQL\\s*(.+)",
      "parametersExtractRegex": "BIND_PARAMS\\s*(.+)",
      "executionTimeExtractRegex": "COST\\s*(\\d+)\\s*ms",
      "paramParseRegex": "([^|]+)\\|([^,]+)"
    }
  ]
}
```

### å®Œæ•´é…ç½®ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŠŸèƒ½çš„å®Œæ•´é…ç½®ç¤ºä¾‹ï¼š

```json
{
  "mybatis-helper.databaseType": "mysql",
  "mybatis-helper.enableCodeLens": true,
  "mybatis-helper.fileOpenMode": "useExisting",
  
  // SQL æ—¥å¿—æ‹¦æˆªé…ç½®
  "mybatis-helper.sqlInterceptor.listenMode": "auto",
  "mybatis-helper.sqlInterceptor.autoStart": true,
  "mybatis-helper.sqlInterceptor.maxHistorySize": 500,
  "mybatis-helper.sqlInterceptor.autoScrollBehavior": "onlyWhenNotInteracting",
  "mybatis-helper.sqlInterceptor.builtinRules": {
    "mybatis-universal": true,
    "mybatis-sqlsession": true
  },
  "mybatis-helper.sqlInterceptor.customRules": [],
  
  // æ–‡ä»¶è·³è½¬é…ç½®
  "mybatis-helper.nameMatchingRules": [
    {
      "name": "Default Mapper",
      "enabled": true,
      "javaPattern": "*Mapper",
      "xmlPattern": "${javaName}",
      "description": "Match UserMapper.java with User.xml"
    },
    {
      "name": "Default Dao",
      "enabled": true,
      "javaPattern": "*Dao",
      "xmlPattern": "${javaName}",
      "description": "Match UserDao.java with User.xml"
    }
  ],
  "mybatis-helper.ignoreSuffixes": ["Mapper", "Dao"],
  "mybatis-helper.pathPriority": {
    "enabled": true,
    "priorityDirectories": [
      "/src/main/java/",
      "/src/main/resources/mapper/"
    ],
    "excludeDirectories": [
      "/build/",
      "/target/",
      "/.git/"
    ]
  }
}
```

## å¸¸è§é—®é¢˜

### SQL æ—¥å¿—æ‹¦æˆªç›¸å…³é—®é¢˜

#### Q: SQL å†å²ä¸ºç©ºï¼Œæ²¡æœ‰æ•è·åˆ° SQLï¼Ÿ

**A:** è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ’æŸ¥ï¼š

1. **æ£€æŸ¥æ—¥å¿—çº§åˆ«**ï¼šç¡®ä¿ MyBatis æ—¥å¿—çº§åˆ«ä¸º DEBUGï¼Œéœ€è¦åœ¨æ—¥å¿—ä¸­çœ‹åˆ° `Preparing:` å’Œ `Parameters:`
   ```properties
   # application.properties
   logging.level.com.example.mapper=DEBUG
   ```

2. **æ£€æŸ¥ç›‘å¬æ¨¡å¼**ï¼šå°è¯•åˆ‡æ¢ä¸åŒçš„ç›‘å¬æ¨¡å¼
   ```json
   {
     "mybatis-helper.sqlInterceptor.listenMode": "debugConsole"
   }
   ```

3. **æ£€æŸ¥æ’ä»¶çŠ¶æ€**ï¼šæŸ¥çœ‹å·¦ä¾§ SQL å†å²è§†å›¾çš„å·¥å…·æ ï¼Œç¡®è®¤æ’ä»¶å·²å¯åŠ¨ï¼ˆæ˜¾ç¤º â¸ï¸ æš‚åœæŒ‰é’®ï¼‰

4. **æ£€æŸ¥æ—¥å¿—æ ¼å¼**ï¼šç¡®è®¤æ—¥å¿—æ ¼å¼æ˜¯å¦è¢«å†…ç½®è§„åˆ™æ”¯æŒï¼Œæˆ–æ·»åŠ è‡ªå®šä¹‰è§„åˆ™

#### Q: å‚æ•°æ˜¾ç¤ºä¸º 0ï¼Œä½†æ—¥å¿—ä¸­æœ‰å‚æ•°ï¼Ÿ

**A:** å¯èƒ½æ˜¯å‚æ•°è§£ææ­£åˆ™ä¸åŒ¹é…ä½ çš„æ—¥å¿—æ ¼å¼ï¼š

1. æ£€æŸ¥å‚æ•°æ ¼å¼æ˜¯ `value(type)` è¿˜æ˜¯å…¶ä»–æ ¼å¼
2. æ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº†ä¸­æ–‡æ‹¬å· `ï¼ˆï¼‰`
3. æ·»åŠ è‡ªå®šä¹‰è§„åˆ™åŒ¹é…ä½ çš„æ ¼å¼ï¼š
   ```json
   {
     "mybatis-helper.sqlInterceptor.customRules": [{
       "name": "my-format",
       "enabled": true,
       "lineMatchRegex": "Parameters:",
       "parametersExtractRegex": "Parameters:\\s*(.+)",
       "paramParseRegex": "([^,]+)\\(([^)]+)\\)"
     }]
   }
   ```

#### Q: å¦‚ä½•åªæŸ¥çœ‹ç‰¹å®š Mapper çš„ SQLï¼Ÿ

**A:** å½“å‰ç‰ˆæœ¬æ”¯æŒæŸ¥çœ‹æ‰€æœ‰ SQLï¼Œä¸æ”¯æŒæŒ‰ Mapper è¿‡æ»¤ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼é—´æ¥å®ç°ï¼š
1. åœ¨ SQL è¯¦æƒ…é¢æ¿ä¸­æŸ¥çœ‹ SQL ä¸Šä¸‹æ–‡
2. æ ¹æ® SQL å†…å®¹åˆ¤æ–­æ‰€å±è¡¨/Mapper
3. æ¸…ç©ºå†å²åï¼Œåªæ‰§è¡Œç‰¹å®šæ“ä½œæ¥éš”ç¦» SQL

### æ–‡ä»¶è·³è½¬ç›¸å…³é—®é¢˜

#### Q: å¦‚ä½•é…ç½®è‡ªå®šä¹‰åç§°åŒ¹é…è§„åˆ™ï¼Ÿ

**A:** åœ¨ VSCode è®¾ç½®ä¸­æœç´¢ `mybatis-helper.nameMatchingRules`ï¼Œç‚¹å‡»"åœ¨ settings.json ä¸­ç¼–è¾‘"ï¼Œç„¶åæŒ‰ç…§ç¤ºä¾‹æ ¼å¼æ·»åŠ ä½ çš„è‡ªå®šä¹‰è§„åˆ™ã€‚æ¯ä¸ªè§„åˆ™åŒ…å« `name`ã€`enabled`ã€`javaPattern`ã€`xmlPattern` å’Œ `description` å­—æ®µã€‚

#### Q: å¦‚ä½•ä½¿ç”¨é€šé…ç¬¦å’Œå˜é‡ï¼Ÿ

**A:** åœ¨ `javaPattern` å’Œ `xmlPattern` ä¸­å¯ä»¥ä½¿ç”¨ `*` åŒ¹é…ä»»æ„æ•°é‡çš„å­—ç¬¦ï¼Œä½¿ç”¨ `?` åŒ¹é…å•ä¸ªå­—ç¬¦ã€‚åœ¨ `xmlPattern` ä¸­å¯ä»¥ä½¿ç”¨ `${javaName}` å˜é‡ï¼Œå®ƒä¼šè¢«æ›¿æ¢ä¸º Java æ–‡ä»¶åçš„åŸºç¡€éƒ¨åˆ†ï¼ˆå»æ‰åç¼€ï¼‰ã€‚

#### Q: è·¯å¾„ä¼˜å…ˆçº§é…ç½®å¦‚ä½•æé«˜åŒ¹é…å‡†ç¡®æ€§ï¼Ÿ

**A:** è·¯å¾„ä¼˜å…ˆçº§é…ç½®é€šè¿‡ä»¥ä¸‹æ–¹å¼æé«˜åŒ¹é…å‡†ç¡®æ€§ï¼š
1. ä¼˜å…ˆæœç´¢åŒ…å« `priorityDirectories` è·¯å¾„çš„æ–‡ä»¶
2. æ’é™¤åŒ…å« `excludeDirectories` è·¯å¾„çš„æ–‡ä»¶
3. æ ¹æ®è·¯å¾„æ·±åº¦å’Œä¼˜å…ˆçº§å¯¹åŒ¹é…ç»“æœè¿›è¡Œæ’åº

#### Q: å¦‚ä½•è°ƒè¯•æ–‡ä»¶åŒ¹é…é—®é¢˜ï¼Ÿ

**A:** å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è°ƒè¯•æ–‡ä»¶åŒ¹é…é—®é¢˜ï¼š
1. æ£€æŸ¥ VSCode å¼€å‘è€…æ§åˆ¶å°çš„è¾“å‡ºä¿¡æ¯
2. ç¡®è®¤è‡ªå®šä¹‰åç§°åŒ¹é…è§„åˆ™çš„é…ç½®æ˜¯å¦æ­£ç¡®
3. éªŒè¯è·¯å¾„ä¼˜å…ˆçº§é…ç½®æ˜¯å¦åˆç†
4. ç¡®è®¤å¿½ç•¥åç¼€é…ç½®æ˜¯å¦ç¬¦åˆé¡¹ç›®å®é™…æƒ…å†µ

### å…¶ä»–é—®é¢˜

#### Q: æ’ä»¶æ”¯æŒå“ªäº›ç‰ˆæœ¬çš„ VSCodeï¼Ÿ

**A:** æ’ä»¶éœ€è¦ VSCode 1.100.3 æˆ–æ›´é«˜ç‰ˆæœ¬æ‰èƒ½æ­£å¸¸è¿è¡Œã€‚

#### Q: æ’ä»¶ä¼šå½±å“ VSCode çš„æ€§èƒ½å—ï¼Ÿ

**A:** æˆ‘ä»¬å·²ç»å¯¹æ’ä»¶è¿›è¡Œäº†å…¨é¢ä¼˜åŒ–ï¼Œæ­£å¸¸ä½¿ç”¨æƒ…å†µä¸‹ä¸ä¼šå¯¹ VSCode æ€§èƒ½äº§ç”Ÿæ˜æ˜¾å½±å“ã€‚åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œé¦–æ¬¡åŠ è½½æ—¶å¯èƒ½ä¼šæœ‰çŸ­æš‚çš„æ‰«æè¿‡ç¨‹ã€‚

#### Q: å¦‚ä½•è‡ªå®šä¹‰æ’ä»¶ç•Œé¢è¯­è¨€ï¼Ÿ

**A:** æ’ä»¶ä¼šè‡ªåŠ¨æ ¹æ® VSCode çš„è¯­è¨€è®¾ç½®åˆ‡æ¢æ˜¾ç¤ºè¯­è¨€ï¼Œæ”¯æŒè‹±æ–‡å’Œä¸­æ–‡ã€‚

## è´¡çŒ®ä»£ç 

æˆ‘ä»¬éå¸¸æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼å¦‚æœæ‚¨æœ‰å…´è¶£å‚ä¸ MyBatis Helper æ’ä»¶çš„å¼€å‘ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

1. Fork GitHub ä»“åº“ï¼š[https://github.com/jingzepei/mybatis-helper](https://github.com/jingzepei/mybatis-helper)
2. å…‹éš†æ‚¨çš„ Fork åˆ°æœ¬åœ°å¼€å‘ç¯å¢ƒ
3. åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯è¿›è¡Œå¼€å‘
4. æäº¤æ‚¨çš„æ›´æ”¹å¹¶ç¡®ä¿é€šè¿‡æ‰€æœ‰æµ‹è¯•
5. æ¨é€åˆ°æ‚¨çš„ Fork å¹¶åˆ›å»º Pull Request

è´¡çŒ®æŒ‡å—ï¼š

- éµå¾ªç°æœ‰çš„ä»£ç é£æ ¼å’Œå‘½åè§„èŒƒ
- ä¸ºæ–°åŠŸèƒ½æ·»åŠ é€‚å½“çš„æ–‡æ¡£å’Œæµ‹è¯•
- åœ¨ Pull Request ä¸­è¯¦ç»†æè¿°æ‚¨çš„æ›´æ”¹å†…å®¹å’Œç›®çš„
- å¯¹äºå¤§å‹æ›´æ”¹ï¼Œå»ºè®®å…ˆåˆ›å»º Issue è¿›è¡Œè®¨è®º

å¦‚æœæ‚¨å‘ç°äº†é—®é¢˜æˆ–è€…æœ‰æ–°çš„åŠŸèƒ½å»ºè®®ï¼Œä¹Ÿæ¬¢è¿åœ¨ GitHub æˆ– Gitee ä¸Šæäº¤ Issueã€‚

## è®¸å¯è¯

æœ¬æ’ä»¶é‡‡ç”¨ MIT è®¸å¯è¯å¼€æºã€‚è¯¦ç»†ä¿¡æ¯è¯·æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ï¼Œä»¥åŠä»¥ä¸‹å¼€æºæŠ€æœ¯çš„æ”¯æŒï¼š

- [Visual Studio Code Extension API](https://code.visualstudio.com/api)
- [TypeScript](https://www.typescriptlang.org/)
- [MyBatis](https://mybatis.org/mybatis-3/)
- ~~Lingma~~ï¼ˆä¸åœ¨ä½¿ç”¨äº†ï¼Œå› ä¸ºç°åœ¨è¶Šæ¥è¶Šæ‹‰è·¨ï¼Œè¶Šæ¥è¶Šæ™ºéšœï¼‰
- [trae](https://www.trae.cn/)
---

å¸Œæœ›è¿™ä¸ªæ’ä»¶èƒ½å¸®åŠ©æ‚¨æ›´é«˜æ•ˆåœ°å¼€å‘ MyBatis åº”ç”¨ï¼å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·éšæ—¶åœ¨ [GitHub](https://github.com/Greenplumwine/vscode-mybatis-helper) æˆ– [Gitee](https://gitee.com/Greenplumwine/vscode-mybatis-helper) ä¸Šæäº¤ Issue æˆ–ä¸æˆ‘ä»¬è”ç³»ã€‚
